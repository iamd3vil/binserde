// Code generated by gandalf(BuildDate: {{.BuildDate}}, Version: {{.BuildVersion}}). DO NOT EDIT.
package {{.Pkg}}

import (
    "encoding/binary"
)

{{- range .Structs}}
func (s *{{.StructName}}) Marshal() []byte {
    ln := 0
    {{- range .Fields}}
        ln += {{.Offset}}
    {{- end}}
    dest := make([]byte, ln)
    offset := 0
    {{- range .Fields}}
        {{- if not .Append}}
            binary.{{$.Endian}}.{{.Func}}(dest[offset:offset+{{.Offset}}], {{.FieldName}})
        {{- else}}
            copy(dest[offset:offset+{{.Offset}}], []byte(s.{{.FieldName}}))
        {{- end}}
        offset += {{.Offset}}
    {{- end}}
    return dest
}
{{- end}}